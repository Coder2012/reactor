<div ng-include="'components/navbar/navbar.html'"></div>

<div class="row">
  <form class="filters">
    <div class="small-12 medium-3 columns">
      <div class="filters__select">
        <select class="filters__select header-small" name="pilots" id="pilots" ng-model="selectedPilot" ng-options="p for p in pilots">
          <option value="">Select a pilot</option>
        </select>
        <button class="text-small" ng-click="reset();updateResultsByPilot(selectedPilot, page, selectedLimit);">Search</button>
      </div>
    </div>
    <div class="small-12 medium-3 columns">
      <div class="filters__select">
        <select class="filters__select header-small" name="club" id="club" ng-model="selectedClub" ng-options="p for p in clubs">
          <option value="">Select a club</option>
        </select>
        <button class="text-small" ng-click="reset();updateResultsByClub(selectedClub, page, selectedLimit);">Search</button>
      </div>
    </div>
    <div class="small-12 medium-3 columns">
      <div class="filters__select">
        <select class="filters__select header-small" name="type" id="type" ng-model="selectedType" ng-change="updateResultsByType(selectedType);" ng-options="p for p in types">
          <option value="">Select a flight type</option>
        </select>
      </div>
    </div>
    <div class="small-12 medium-3 columns">
      <div class="filters__select">
        <select class="filters__select header-small" name="site" id="site" ng-model="selectedSite" ng-change="updateResultsBySite(selectedSite);" ng-options="p for p in sites">
          <option value="">Select a site</option>
        </select>
      </div>
    </div>
    <select name="limit" id="limit" class="header-small" ng-model="selectedLimit">
      <option value="5">5</option>
      <option value="10">10</option>
      <option value="25">25</option>
      <option value="50">50</option>
      <option value="all">ALL</option>
    </select>
  </form>
</div>

<div class="row" ng-repeat="flight in flights">
  <div class="flight">
    <div class="flight__inner">
      <header class="flight__header">
        <span class="flight__index header-large" ng-class="{double: ($index > 8 && $index <= 98 ), triple: ($index > 98)}" data-index="{{flight.count}}">{{flight.count}}</span>
        <h2 class="header-large flight__pilot">
          {{flight.pilot}}
        </h2>
        <h3 class="heading-medium flight__title">{{flight.title}}</h3>
      </header>
      <div class="flight__details">
        <div class="flight__details-text text-small">Club: <span class="text-small--highlight">{{flight.club}}</span></div>
        <div class="flight__details-text text-small">Glider: <span class="text-small--highlight">{{flight.glider}}</span></div>
      </div>
      <div class="flight__chronology vertical-spacer">
        <div class="flight__chronology-calendar fa fa-calendar">
          <span class="text-small">{{flight.date}}<span>
        </div>
        <div class="text-small">
          <span class="flight__chronology-start fa fa-clock-o">
            <span class=" text-small">{{flight.start}}</span>
          </span>
          -
          <span class="flight__chronology-finish fa fa-clock-o">
            <span class="text-small">{{flight.finish}}</span>
          </span>
        </div>
        <div class="text-small">{{flight.duration}}</div>
      </div>
      <div class="flight__location vertical-spacer">
        <span class="flight__location-takeoff fa fa-map-marker"><span class="text-small">{{flight.takeoff}}</span></span>
        <span class="flight__location-landing fa fa-map-marker"><span class="text-small">{{flight.landing}}</span></span>
      </div>
      <div class="totals text-small vertical-spacer">
        <div><span class="text-small--darken">Distance:</span> {{flight.total}}</div>
        <div><span class="text-small--darken">Score:</span> {{flight.score}}</div>
        <div ng-if="flight.multiplier != undefined"><span class="text-small--darken">Multiplier:</span> {{flight.multiplier}}</div>
      </div>
      <div class="stats text-small vertical-spacer">
        <div ng-if="flight.maxHeight != undefined"><span class="text-small--darken">Max Height:</span> {{flight.maxHeight}}</div>
        <div ng-if="flight.lowHeight != undefined"><span class="text-small--darken">Low Height:</span> {{flight.lowHeight}}</div>
        <div ng-if="flight.takeoffHeight != undefined"><span class="text-small--darken">Takeoff Height:</span> {{flight.takeoffHeight}}</div>
        <div ng-if="flight.maxClimb != undefined"><span class="text-small--darken">Max Climb:</span> {{flight.maxClimb}}</div>
        <div ng-if="flight.minClimb != undefined"><span class="text-small--darken">Min Climb:</span> {{flight.minClimb}}</div>
        <div ng-if="flight.maxSpeed != undefined"><span class="text-small--darken">Max Speed:</span> {{flight.maxSpeed}}</div>
        <div ng-if="flight.avgSpeedCourse != undefined"><span class="text-small--darken">Avg Speed Course:</span> {{flight.avgSpeedCourse}}</div>
        <div ng-if="flight.avgSpeedTrack != undefined"><span class="text-small--darken">Avg Speed Track:</span> {{flight.avgSpeedTrack}}</div>
      </div>
    </div>  
  </div>  
</div>

<div class="container">
  <div class="row">
    <button class="text-small" ng-click="updateResultsByPilotNext();">SHOW MORE</button>
  </div>
</div>

<footer class="footer">
  <div class="container">
      <p>Angular Fullstack v2.0.13 |
        <a href="https://twitter.com/tyhenkel">@tyhenkel</a> |
         <a href="https://github.com/DaftMonk/generator-angular-fullstack/issues?state=open">Issues</a></p>
  </div>
</footer>
